{% extends 'misc/base.html' %}

{% load static %}

{% load i18n %}

{% load crispy_forms_tags %}

{% block extra-css %}
{% for formset in inlines %}
  {{formset.media.css}}
{% endfor %}
{% endblock %}

{% block upper_title %}{{_("Register match")}}{% endblock %}
{% block lower_title %}{{_("Form")}}{% endblock %}

{% block content %}
{% if form.is_valid %}
{% for formset in inlines %}
  {{ formset|as_crispy_errors }}
{% endfor %}
{% endif %}
{% crispy form %}
{% endblock %}

{% block extra-js %}

{% for formset in inlines %}
  {{formset.media.js}}
{% endfor %}

<!-- Include Django Crispy Formset Modal's JS -->
<script src="{% static 'crispy_formset_modal/js/crispy-formset-modal.min.js' %}"></script>

<script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    if (typeof window.crispyFormsetModal !== "undefined") {
      window.crispyFormsetModal.onFormAdded = function (event) {
        $('.django-select2').djangoSelect2()
      };
    }
  });
</script>
{% endblock %}

