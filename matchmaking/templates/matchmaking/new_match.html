{% extends 'base.html' %}

{% load static %}

{% block extra-css %}
  {{participants_formset.media.css}}
{% endblock %}

{% block content %}
<h2 class="section-heading mb-4">
    <span class="section-heading-upper">New match</span>
    <span class="section-heading-lower">Form</span>
</h2>
<form class="form-inline" action="{% url 'matchmaking:new_match' %}" method="post">
  {% csrf_token %}
  
  <div class="form-group  {% if match_form.title.errors %}has-warning has-feedback{% endif %}">
    {{ match_form.title.as_field_group }}
  </div>
  <div class="form-group  {% if match_form.deck.errors %}has-warning has-feedback{% endif %}">
    {{ match_form.deck.as_field_group }}
  </div>
  <div class="form-group  {% if match_form.board_map.errors %}has-warning has-feedback{% endif %}">
    {{ match_form.board_map.as_field_group }}
  </div>
  <div class="form-group  {% if match_form.random_suits.errors %}has-warning has-feedback{% endif %}">
    {{ match_form.random_suits.as_field_group }}
  </div>
  <div class="form-group  {% if match_form.closed.errors %}has-warning has-feedback{% endif %}">
    {{ match_form.closed.as_field_group }}
  </div>
  
  <div class="form-group">
      {{ participants_formset.management_form }}
      <table>
          <tr>
          {% for field in participants_formset.0 %}
              <th scope="col">{{ field.label_tag }}</th>
          {% endfor %}
          </tr>
      {% for participant_form in participants_formset %}
          <tr>
          {% for field in participant_form %}
              <td>{{ field }}</td>
          {% endfor %}
          </tr>
      {% endfor %}
      </table>
  </div>

  <button type="submit" class="btn btn-secondary">Register match</button>
</form> 
{% endblock %}

{% block extra-js %}
  {{participants_formset.media.js}}
{% endblock %}
